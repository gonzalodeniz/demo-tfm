# Recurso ConfigMap en Kubernetes llamado grafana-datasource dentro del namespace monitoring-igor-035.
# El ConfigMap contiene la configuración de la fuente de datos para Grafana en la clave datasource.yml.
# Esta configuración indica que Grafana debe conectarse a Prometheus
# (usando la URL http://prometheus.monitoring.svc:9090) como fuente de datos principal
# (isDefault: true) mediante acceso tipo proxy.

apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-configmap
  namespace: monitoring-igor-035
data:
  datasource.yml: |
    apiVersion: 1
    datasources:
      - name: Prometheus
        type: prometheus
        access: proxy
        url: http://prometheus-service.monitoring-igor-035.svc:9090
        isDefault: true
